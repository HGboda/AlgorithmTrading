this is main simulation file for IPython.
